<h1>PROFILE</h1>
<h5>Email</h5> <p>{{Email}}</p>
<h5>Username</h5><p>{{uName}}</p>
<div ng-hide="UsernameForm">
    <form name="usernameForm" ng-submit="submitUsernameForm(usernameForm)" novalidate>

<h5>New Username</h5>
    <input type="text" name="newusername" ng-model="profile.newUsername" ng-keyup="checkUsername(usernameForm)" pattern="[a-zA-Z0-9_.]{5,20}" required/>
    <span  ng-show="usernameForm.newusername.$touched &&
     usernameForm.newusername.$error.pattern &&
      !usernameForm.newusername.$error.required">
      Invalid username(Should have only a-z,0-9,.,_ and 5-20 chars,without any spaces) </span>
    <span  ng-show="usernameForm.newusername.$touched &&
     usernameForm.newusername.$error.required">Cannot be left empty </span>
    <span  ng-show="UsernameSubmitted && !usernameForm.newusername.$touched &&
     usernameForm.newusername.$error.required">
        Cannot be left empty </span>
    <span  ng-show="UsernameSubmitted && !usernameForm.newusername.$touched &&
     usernameForm.newusername.$error.pattern">
     Invalid username(Should have only a-z,0-9,.,_ and 5-20 chars,without any spaces) </span>

<input type="submit" ng-disabled="disableButton" ng-click="UsernameSubmitted=true;" value="Save">
</form>
{{UsernameMessage}}
{{UsernameResult}}

</div>
<input type="button" ng-hide="toggleButton" ng-click="toggleUsernameForm()" value={{EditUsername}} />

<h3>

<div>
    <img ng-src={{profileUrl}} alt="Profile Pic"><br>
         <form name="uploadForm" ng-hide="uploadPicForm">
        
            <input 
               type="file" 
               ngf-select 
               ng-model="profile.pic" 
               name="file" 
               ngf-pattern="'image/*'"
               accept="image/*" 
               ngf-max-size="1MB" 
               />
            Image thumbnail: <img style="width:100px;" ngf-thumbnail="profile.pic || '/thumb.jpg'"/>
            <i ng-show="uploadForm.file.$error.maxSize">File too large : max 1MB</i>
            <button type="submit" ng-click="uploadPic()">Upload</button>
        </form>
        {{picMessage}}
        <button ng-click="toggleImageForm()" ng-hide="toggleButton">{{uploadButton}}</button>
</div>

<div ng-hide="Profile">
    
    <h5>Name</h5><p>{{Name||"Not Saved"}}</p>   
    <h5>Address</h5>
    <h5>Area</h5><p>{{Area||"Not Saved"}}</p>
    <h5>City</h5><p>{{City||"Not Saved"}}</p>
    <h5>State</h5><p>{{State||"Not Saved"}}</p>
    <h5>Pincode</h5><p>{{Pincode||"Not Saved"}}</p>
    <h5>Country</h5><p>{{Country||"Not Saved"}}</p>
    <h5>Mobile Number</h5><p>{{Mobile||"Not Saved"}}</p>
</div>

<div ng-hide="ProfileForm">
<form name="profForm" ng-submit="submitProfileForm(profForm)" novalidate>
    <h5>Full Name</h5>
    <input type="text" name="validName" ng-model="profile.newName" placeholder="Full Name"
    pattern="[A-Za-z ]{3,30}" required>
    <span  ng-show="profForm.validName.$touched &&
     profForm.validName.$error.pattern &&
      !profForm.validName.$error.required">
      Invalid name(Should be 3-30 only a-z,A-Z and space allowed) </span>
    <span  ng-show="profForm.validName.$touched &&
     profForm.validName.$error.required">Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validName.$touched &&
     profForm.validName.$error.required">
        Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validName.$touched &&
     profForm.validName.$error.pattern">
      Invalid name(Should be 3-30 only a-z,A-Z and space allowed) </span>

    <h5>Area</h5>
    <input type="text" name="validArea" ng-model="profile.newArea" 
    placeholder="Area" pattern="[A-Za-z0-9,-.' ]{5,50}" required>
        <span  ng-show="profForm.validArea.$touched &&
     profForm.validArea.$error.pattern &&
      !profForm.validArea.$error.required">
      Invalid Area(Should be 5-50 only a-z,A-Z,0-9,-,',. , and space allowed) </span>
    <span  ng-show="profForm.validArea.$touched &&
     profForm.validArea.$error.required">Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validArea.$touched &&
     profForm.validArea.$error.required">
        Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validArea.$touched &&
     profForm.validArea.$error.pattern">
     Invalid Area(Should be 5-50 only a-z,A-Z,0-9,-,. , and space allowed) </span>

    <h5>City</h5>
    <input type="text" name="validCity" ng-model="profile.newCity" 
    placeholder="City" pattern="[A-Za-z0-9' ]{4,15}" required>
        <span  ng-show="profForm.validCity.$touched &&
     profForm.validCity.$error.pattern &&
      !profForm.validCity.$error.required">
      Invalid City(Should be 4-15 only a-z,A-Z,0-9,' and space allowed) </span>
    <span  ng-show="profForm.validCity.$touched &&
     profForm.validCity.$error.required">Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validCity.$touched &&
     profForm.validCity.$error.required">
        Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validCity.$touched &&
     profForm.validCity.$error.pattern">
     Invalid City(Should be 4-15 only a-z,A-Z,0-9 and space allowed)</span>
    
    <h5>State</h5>
    <input type="text" name="validState" ng-model="profile.newState" 
    placeholder="State" pattern="[A-Za-z0-9' ]{4,15}" required>
        <span  ng-show="profForm.validState.$touched &&
     profForm.validState.$error.pattern &&
      !profForm.validState.$error.required">
      Invalid State(Should be 4-15 only a-z,A-Z,0-9,' and space allowed) </span>
    <span  ng-show="profForm.validState.$touched &&
     profForm.validState.$error.required">Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validState.$touched &&
     profForm.validState.$error.required">
        Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validState.$touched &&
     profForm.validState.$error.pattern">
     Invalid State(Should be 4-15 only a-z,A-Z,0-9 and space allowed)</span>
    
    <h5>Pincode</h5>
    <input type="text" name="validPincode" ng-model="profile.newPincode" 
    placeholder="Pincode" pattern="[0-9]{3,15}" required>
        <span  ng-show="profForm.validPincode.$touched &&
     profForm.validPincode.$error.pattern &&
      !profForm.validPincode.$error.required">
      Invalid Pincode(Should be 3-15 digits only 0-9 allowed) </span>
    <span  ng-show="profForm.validPincode.$touched &&
     profForm.validPincode.$error.required">Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validPincode.$touched &&
     profForm.validPincode.$error.required">
        Cannot be left empty </span>
    <span  ng-show="ProfileSubmitted && !profForm.validPincode.$touched &&
     profForm.validPincode.$error.pattern">
     Invalid Pincode(Should be 3-15 digits only 0-9 allowed) </span>

    <h5>Country</h5>
    <country-select name="validCountry" ng-model="profile.newCountry" cs-required 
    cs-priorities="IN, AU, DE, GB, US" option value="India"></country-select>
        {{ProfileResult}}
    <!--country-select ng-model="profile.newCountry" cs-only="AU, DE, GB, US"></country-select-->


<input type="submit" ng-click="ProfileSubmitted=true;" value="Save Profile">
</form>
</div>

<div ng-hide="MobileForm">
    <div ng-hide="HideMobileForm" >
        <form name="mobileForm" ng-submit="submitMobileForm(mobileForm)" novalidate>
            <h5>Country Code</h5>
            +<input type="text" ng-model="profile.countryCode" name="validCode" pattern="[0-9]{1,3}" required/>
            <span  ng-show="mobileForm.validCode.$touched &&
            mobileForm.validCode.$error.pattern &&
            !mobileForm.validCode.$error.required">
            Invalid Country code(Should be 1-3 digits only 0-9) </span>
            <span  ng-show="mobileForm.validCode.$touched &&
            mobileForm.validCode.$error.required">Cannot be left empty </span>
            <span  ng-show="MobileSubmitted && !mobileForm.validCode.$touched &&
            mobileForm.validCode.$error.required">
                Cannot be left empty </span>
            <span  ng-show="MobileSubmitted && !mobileForm.validCode.$touched &&
            mobileForm.validCode.$error.pattern">
            Invalid Country code(Should be 1-3 digits only 0-9) </span>
            


            <h5>Mobile Number</h5>
            <input type="tel" ng-model="profile.newMobile" name="validMobile" placeholder="New Mobile number" pattern="[0-9]{10}" required/>
            <span  ng-show="mobileForm.validMobile.$touched &&
            mobileForm.validMobile.$error.pattern &&
            !mobileForm.validMobile.$error.required">
            Invalid Mobile number(Should be 10 digits only 0-9 allowed)</span>
            <span  ng-show="mobileForm.validMobile.$touched &&
            mobileForm.validMobile.$error.required">Cannot be left empty </span>
            <span  ng-show="MobileSubmitted && !mobileForm.validMobile.$touched &&
            mobileForm.validMobile.$error.required">
                Cannot be left empty </span>
            <span  ng-show="MobileSubmitted && !mobileForm.validMobile.$touched &&
            mobileForm.validMobile.$error.pattern">
            Invalid Mobile number(Should be 10 digits only 0-9 allowed) </span>
            <br>
                {{MobileMessage}}

            <input type="submit" ng-click="MobileSubmitted=true;" value="Verify">
        </form>
    </div>
    <div ng-hide=HideCodeForm>
        <form name="codeForm" ng-submit="submitCode(codeForm)" novalidate>
            <h5>Enter 6 digit verification code from your mobile that we just sent you</h5>
            <input type="text" ng-model="profile.VCode" name="vCode" pattern="[a-z0-9A-Z]{6}" required/>
            <span  ng-show="codeForm.vCode.$touched &&
            codeForm.vCode.$error.pattern &&
            !codeForm.vCode.$error.required">
            Invalid Code Format</span>
            <!--<span  ng-show="codeForm.vCode.$touched &&
            codeForm.vCode.$error.required">Cannot be left empty </span>-->
            <!--<span  ng-show="CodeSubmitted && !codeForm.vCode.$touched &&
            codeForm.vCode.$error.required">
                Cannot be left empty </span>-->
            <span  ng-show="CodeSubmitted && !codeForm.vCode.$touched &&
            codeForm.vCode.$error.pattern">
            Invalid code Format</span>
            <br>
                {{CodeMessage}}

            <input type="submit" ng-click="CodeSubmitted=true;" value="Verify">
            <input type="button" ng-click="SendAgain()" value="Send Again">
        </form>         
        
    </div>
</div>

<div ng-hide="PasswordForm">
<form name="passForm"  ng-submit="submitPasswordForm(passForm)" novalidate>

<h5>Old Password</h5>
 <input type="password"  ng-model="profile.oldPassword" name="oldpass"  
 placeholder="Password" pattern="[a-z0-9A-Z!@#$%^&*()_.]{8,25}" required/>  
    <span  ng-show="passForm.oldpass.$touched && 
    passForm.oldpass.$error.pattern && !passForm.oldpass.$error.required">
    password too small or invalid character,use(8-25 char)(a-z,0-9,A-Z,!,@,#,$,%,^,&,*,(,),_,.) </span>
    <span  ng-show="passForm.oldpass.$touched && passForm.oldpass.$error.required">Cannot be left empty </span>
    <span  ng-show="PasswordSubmitted && !passForm.oldpass.$touched &&
     passForm.oldpass.$error.required">Cannot be left empty </span>
    <span  ng-show="PasswordSubmitted && !passForm.oldpass.$touched &&
     passForm.oldpass.$error.pattern">
     password too small or invalid character,use(8-25 char)(a-z,0-9,A-Z,!,@,#,$,%,^,&,*,(,),_,.) </span>

<h5>New password</h5>
 <input type="password" ng-keyup="checkPassword()" ng-model="profile.newPassword" name="newpass"  
 placeholder="Password" pattern="[a-z0-9A-Z!@#$%^&*()_.]{8,25}" required/>
   <span  ng-show="passForm.newpass.$touched && passForm.newpass.$error.pattern &&
    !passForm.newpass.$error.required">
    password too small or invalid character,use(8-25 char)(a-z,0-9,A-Z,!,@,#,$,%,^,&,*,(,),_,.) </span>
    <span  ng-show="passForm.newpass.$touched && passForm.newpass.$error.required">Cannot be left empty </span>
    <span  ng-show="PasswordSubmitted && !passForm.newpass.$touched &&
     passForm.newpass.$error.required">Cannot be left empty </span>
    <span  ng-show="PasswordSubmitted && !passForm.newpass.$touched &&
     passForm.newpass.$error.pattern">
     password too small or invalid character,use(8-25 char)(a-z,0-9,A-Z,!,@,#,$,%,^,&,*,(,),_,.) </span>

<h5>New Password Again</h5>
<input type="password" ng-keyup="checkPassword()" ng-model="profile.newPassword2" placeholder="Password Again" />
{{PasswordMessage}}



<input type="submit" ng-click="PasswordSubmitted=true;" value="Save Password">
</form>

{{PasswordResult}}
</div>

<input type="button" ng-hide="ProfileFormButton" ng-click="ShowProfileForm()" value="Edit Profile" />
<input type="button" ng-hide="MobileFormButton" ng-click="ShowMobileForm()" value="Edit Mobile" />
<input type="button" ng-hide="PasswordFormButton" ng-click="ShowPasswordForm()" value="Change Password" />
